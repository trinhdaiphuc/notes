"use strict";(self.webpackChunkmy_notes=self.webpackChunkmy_notes||[]).push([[2066],{4274:(n,e,c)=>{c.r(e),c.d(e,{assets:()=>a,contentTitle:()=>s,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>h});var i=c(5893),t=c(1151);const r={},s="GRPC load balancing in Kubernetes",l={id:"Programing language/Golang/grpc-load-balancing-in-kubernetes",title:"GRPC load balancing in Kubernetes",description:"Khi vi\u1ebft c\xe1c \u1ee9ng d\u1ee5ng giao ti\u1ebfp v\u1edbi nhau theo framework grpc v\xe0 deploy l\xean Kubernetes. \u0110\u1ec3 c\u1ea5u h\xecnh cho client application",source:"@site/docs/Programing language/Golang/grpc-load-balancing-in-kubernetes.md",sourceDirName:"Programing language/Golang",slug:"/Programing language/Golang/grpc-load-balancing-in-kubernetes",permalink:"/docs/Programing language/Golang/grpc-load-balancing-in-kubernetes",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Programing language/Golang/grpc-load-balancing-in-kubernetes.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Golang",permalink:"/docs/category/golang"},next:{title:"Use HTTP Client to enhance performance",permalink:"/docs/Programing language/Golang/http-client"}},a={},h=[{value:"xDS API",id:"xds-api",level:4},{value:"grpc client architecture",id:"grpc-client-architecture",level:4},{value:"T\xe0i li\u1ec7u tham kh\u1ea3o",id:"t\xe0i-li\u1ec7u-tham-kh\u1ea3o",level:3}];function o(n){const e={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.a)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h1,{id:"grpc-load-balancing-in-kubernetes",children:"GRPC load balancing in Kubernetes"}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsx)(e.p,{children:"Khi vi\u1ebft c\xe1c \u1ee9ng d\u1ee5ng giao ti\u1ebfp v\u1edbi nhau theo framework grpc v\xe0 deploy l\xean Kubernetes. \u0110\u1ec3 c\u1ea5u h\xecnh cho client application\ng\u1ecdi qua server application, ta th\u01b0\u1eddng th\xf4ng qua service c\u1ee7a Kubernetes v\xe0 ta ngh\u0129 r\u1eb1ng kubernetes service s\u1ebd load\nbalancing. Nh\u01b0ng th\u1ef1c t\u1ebf th\xec kh\xf4ng nh\u01b0 v\u1eady."}),"\n"]}),"\n",(0,i.jsx)("h2",{id:"problem",children:"V\u1ea5n \u0111\u1ec1"}),"\n",(0,i.jsxs)(e.p,{children:["Ta h\xe3y th\u1eed c\xe0i \u0111\u1eb7t 1 v\xed d\u1ee5 sau \u0111\xe2y. ",(0,i.jsx)(e.a,{href:"https://github.com/trinhdaiphuc/grpc-xds-example",children:"Grpc xds example"}),". Clone project v\u1ec3 v\xe0 c\xe0i \u0111\u1eb7t\nKubernetes v\xe0 Prometheus operator (c\xf3 link c\xe0i \u0111\u1eb7t trong repo). Ch\u1ea1y grpc server v\xe0 grpc client \u0111\u1ec3 g\u1eedi request t\u1edbi grpc server th\xf4ng qua\nKubernetes service. Ta ch\u1ec9 c\u1ea7n ch\u1ea1y l\u1ec7nh."]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"kubectl apply -f ./deploy/namespace.yml \nkubectl apply -f ./deploy/server.yml \nkubectl apply -f ./deploy/client.yml \n"})}),"\n",(0,i.jsx)(e.p,{children:"\u1ede \u0111\xe2y grpc client s\u1ebd g\u1eedi request li\xean t\u1ee5c trong 5 ph\xfat v\u1edbi 100 concurrency request (\u0111\u1ec3 tu\u1ef3 ch\u1ec9nh c\u1ea5u h\xecnh xem trong ph\u1ea7n Configuration). V\xed d\u1ee5 n\xe0y m\xecnh\nc\xf3 t\u1ea1o metrics cho c\xe1c application \u0111\u1ec3 theo d\xf5i s\u1ed1 l\u01b0\u01a1ng request client g\u1eedi \u0111i v\xe0 server nh\u1eadn \u0111\u01b0\u1ee3c. Ch\u1ec9 c\u1ea7n b\u1eadt Grafana service \u0111\xe3 \u0111\u01b0\u1ee3c c\xe0i trong\nKubernetes l\xean v\xe0 import dashboard v\xe0o \u0111\u1ec3 theo d\xf5i. V\xe0 xem k\u1ebft qu\u1ea3"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{alt:"grpc client load test",src:c(1687).Z+"",width:"2555",height:"1239"})}),"\n",(0,i.jsx)(e.p,{children:"C\xf3 t\u1edbi 3 server m\xe0 ch\u1ec9 c\xf3 1 server nh\u1eadn \u0111\u01b0\u1ee3c t\u1ea5t c\u1ea3 request. Restart grpc client v\xe0 th\u1eed l\u1ea1i ta s\u1ebd th\u1ea5y c\u0169ng s\u1ebd ch\u1ec9 c\xf3 1 server nh\u1eadn t\u1ea5t c\u1ea3 c\xe1c request."}),"\n",(0,i.jsx)("h2",{id:"grpc-loadbalancing",children:"T\u1ea1i sao service c\u1ee7a kubernetes kh\xf4ng th\u1ec3 c\xe2n b\u1eb1ng t\u1ea3i cho grpc?"}),"\n",(0,i.jsx)(e.p,{children:"Vi\u1ec7c n\xe0y kh\xf4ng ph\u1ea3i do service m\xe0 l\xe0 do c\u01a1 ch\u1ebf c\u1ee7a grpc. Ta bi\u1ebft \u0111\u01b0\u1ee3c grpc \u0111\u01b0\u1ee3c build tr\xean HTTP/2. HTTP/2 \u0111\u01b0\u1ee3c thi\u1ebft k\u1ebf cho vi\u1ec7c m\u1edf m\u1ed9t\nlong-lived TCP connection v\xe0 t\u1ea5t c\u1ea3 requests \u0111\u1ec1u \u0111\u01b0\u1ee3c g\u1eedi trong 1 connection v\xe0 g\u1eedi li\xean t\u1ee5c su\u1ed1t qu\xe1 tr\xecnh connection \u0111\u01b0\u1ee3c m\u1edf (multiplex -\nkh\xf4ng b\u1ecb Head-of-line blocking nh\u01b0 HTTP/1). V\xec v\u1eady khi k\u1ebft n\u1ed1i \u0111\u01b0\u1ee3c t\u1ea1o t\u1edbi 1 server th\xec c\xe1c request s\u1ebd ch\u1ec9 g\u1eedi theo connection \u0111\xf3 n\xean s\u1ebd\nkh\xf4ng load balance \u0111\u01b0\u1ee3c."}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{alt:"grpc client not load balance",src:c(8698).Z+"",width:"380",height:"339"})}),"\n",(0,i.jsx)("h2",{id:"solution",children:"Gi\u1ea3i ph\xe1p"}),"\n",(0,i.jsxs)(e.p,{children:["V\xec c\u01a1 ch\u1ebf kh\xe1c v\u1edbi HTTP/1 ta c\u1ea7n s\u1eed d\u1ee5ng c\xe1c c\xe1ch ",(0,i.jsx)(e.a,{href:"https://grpc.io/blog/grpc-load-balancing/",children:"load balancing c\u1ee7a grpc"})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"S\u1eed d\u1ee5ng proxy. Ta c\xf3 th\u1ec3 s\u1eed d\u1ee5ng c\xe1c proxy \u0111\u1ec3 load balancing cho grpc server nh\u01b0 Envoy ho\u1eb7c s\u1eed d\u1ee5ng Service mesh nh\u01b0: Istio, Linkerd, vv..\nC\xe1ch n\xe0y ch\u1ec9 c\u1ea7n implement v\xe0o v\xe0 s\u1eed d\u1ee5ng nh\u01b0ng b\u1ecb nh\u01b0\u1ee3c \u0111i\u1ec3m l\xe0 th\xeam 1 l\u1edbp proxy l\xe0m gi\u1ea3m performance."}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["S\u1eed d\u1ee5ng c\xe1ch client load balancing. L\xfac n\xe0y ta c\u1ea7n ph\u1ea3i bi\u1ebft h\u1ebft th\xf4ng tin endpoint c\u1ee7a server back end. Th\u1eadt may grpc h\u1ed7 tr\u1ee3 m\u1ed9t ph\u01b0\u01a1ng th\u1ee9c client\nload balancing l\xe0 ",(0,i.jsx)(e.a,{href:"https://github.com/grpc/proposal/blob/master/A27-xds-global-load-balancing.md",children:"xDS protocol"}),". gRPC s\u1ebd chuy\u1ec3n t\u1eeb giao th\u1ee9c ",(0,i.jsx)(e.code,{children:"grpclb"})," ban \u0111\u1ea7u sang giao th\u1ee9c ",(0,i.jsx)(e.code,{children:"xDS"})," m\u1edbi."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)("h2",{id:"xds",children:"xDS l\xe0 g\xec?"}),"\n",(0,i.jsx)(e.h4,{id:"xds-api",children:"xDS API"}),"\n",(0,i.jsxs)(e.p,{children:["L\xe0 b\u1ed9 api c\u1ee7a Envoy m\u1ed9t discovery service cho ph\xe9p ta c\u1ea5u h\xecnh v\xe0 l\u01b0u tr\u1eef c\xe1c t\xe0i nguy\xean back end v\xe0 c\u1eadp nh\u1eadt n\xf3 b\u1eb1ng c\xe1ch s\u1eed d\u1ee5ng ",(0,i.jsx)(e.a,{href:"https://www.envoyproxy.io/docs/envoy/latest/start/quick-start/configuration-dynamic-control-plane",children:"Envoy control plane api"}),".\nEnvoy cung c\u1ea5p t\xednh n\u0103ng t\xe1ch bi\u1ec7t ",(0,i.jsx)(e.a,{href:"https://blog.envoyproxy.io/the-universal-data-plane-api-d15cec7a",children:"data plane"})," ra kh\u1ecfi ph\u1ea7n control plane api.\nN\xean ta c\xf3 th\u1ec3 s\u1eed d\u1ee5ng b\u1ed9 data plane n\xe0y \u0111\u1ec3 l\u01b0u l\u1ea1i nh\u1eefng t\xe0i nguy\xean m\xe0 ta \u0111\xe3 discovery \u0111\u01b0\u1ee3c. T\u1eeb \u0111\xf3 ta vi\u1ebft m\u1ed9t server \u0111\u1ecdc v\xe0o Kubernetes api\n\u0111\u1ec3 l\u1ea5y c\xe1c t\xe0i nguy\xean c\u1ea7n \u0111\u1ec3 load balancing v\xe0 t\u1ea1o c\xe1c resource theo chu\u1ea9n c\u1ea5u h\xecnh c\u1ee7a Envoy v\xe0 snapshot l\u1ea1i. Khi n\xe0y c\xe1c th\xf4ng tin t\xe0i\nnguy\xean s\u1ebd \u0111\u01b0\u1ee3c cung c\u1ea5p cho Envoy (\u0111\u1ec3 c\u1eadp nh\u1eadt l\u1ea1i config khi c\xe1c dynamic resource) ho\u1eb7c grpc client c\xf3 c\xe0i \u0111\u1eb7t xds protocol."]}),"\n",(0,i.jsx)(e.p,{children:"B\u1ed9 xDS API ch\xednh:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Listener Discovery Service (LDS): Tr\u1ea3 v\u1ec1 ",(0,i.jsx)(e.code,{children:"Listener"})," resources. C\xf3 th\u1ec3 hi\u1ec3u l\xe0 c\u1ea5u h\xecnh domain cho back end server m\xe0 ph\xeda client c\xe0i \u0111\u1eb7t \u0111\u1ec3 l\u1ea5y th\xf4ng tin c\xe1c c\xe1c resource back end server."]}),"\n",(0,i.jsxs)(e.li,{children:["Route Discovery Service (RDS): Tr\u1ea3 v\u1ec1 ",(0,i.jsx)(e.code,{children:"RouteConfiguration"})," resources. C\u1ea5u h\xecnh traffic shiftting."]}),"\n",(0,i.jsxs)(e.li,{children:["Cluster Discovery Service (CDS): Tr\u1ea3 v\u1ec1 ",(0,i.jsx)(e.code,{children:"Cluster"})," resources. C\u1ea5u h\xecnh thu\u1eadt to\xe1n load balancing."]}),"\n",(0,i.jsxs)(e.li,{children:["Endpoint Discovery Service (EDS): Tr\u1ea3 v\u1ec1 ",(0,i.jsx)(e.code,{children:"ClusterLoadAssignment"})," resources. C\u1ea5u h\xecnh t\u1eadp c\xe1c endpoint c\u1ee7a back end server \u0111\u1ec3 client k\u1ebft n\u1ed1i v\xe0 load balancer ph\xeda client."]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u0110\u1ec3 vi\u1ebft m\u1ed9t xDS server th\xec m\xecnh c\xf3 vi\u1ebft m\u1eabu trong v\xed d\u1ee5 \u1edf \u0111\u1ea7u b\xe0i. M\xecnh s\u1eed d\u1ee5ng xDS g\u1ecdi v\xe0o Kubernetes API \u0111\u1ec3 polling c\xe1c resource theo m\u1ed7i\nph\xfat \u0111\u1ec3 l\u1ea5y ra th\xf4ng tin endpoint (ip, port) c\u1ee7a c\xe1c pod trong m\u1ed7i service c\u1ea7n thi\u1ebft. T\u1eeb \u0111\xf3 m\xecnh s\u1ebd t\u1ea1o c\xe1c resource nh\u01b0 \u1edf tr\xean v\xe0 c\u1eadp nh\u1eadt\nn\xf3 v\xe0o cache c\u1ee7a data plane. Sau khi t\u1ea1o snapshot v\xe0 \u0111\xe1nh version cho data plane, c\xe1c th\xf4ng tin n\xe0y s\u1ebd \u0111\u01b0\u1ee3c g\u1eedi v\u1ec1 cho ph\xeda client \u0111\u1ec3 client\nth\u1ef1c hi\u1ec7n t\u1ea1o th\xeam hay \u0111\xf3ng connection \u0111\u1ec3 ti\u1ebfp t\u1ee5c load balancing. V\xed d\u1ee5"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{alt:"xds api flow",src:c(4392).Z+"",width:"1200",height:"660"})}),"\n",(0,i.jsx)(e.h4,{id:"grpc-client-architecture",children:"grpc client architecture"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{alt:"grpc client architecture",src:c(2785).Z+"",width:"814",height:"562"})}),"\n",(0,i.jsxs)(e.p,{children:["\u0110\u1ec3 vi\u1ebft m\u1ed9t load balancing custom trong grpc th\xec ph\u1ea3i implement 2 plugin l\xe0 ",(0,i.jsx)(e.a,{href:"https://github.com/grpc/grpc/blob/master/doc/naming.md",children:"resolver"})," v\xe0\n",(0,i.jsx)(e.a,{href:"https://github.com/grpc/grpc/blob/master/doc/load-balancing.md",children:"LB policy"}),". Th\u1eadt may grpc \u0111\xe3 implement s\u1eb5n 2 ph\u01b0\u01a1ng th\u1ee9c n\xe0y cho xds. Nh\u01b0ng \u0111\u1ec3 l\u1ea5y \u0111\u01b0\u1ee3c\nk\u1ebft qu\u1ea3 client s\u1ebd g\u1ecdi v\xe0o c\xe1c api streaming c\u1ee7a xDS server \u0111\u1ec3 g\u1eedi request bao g\u1ed3m c\xe1c back end server mu\u1ed1n k\u1ebft n\u1ed1i v\xe0 nh\u1eadn l\u1ea1i c\xe1c th\xf4ng tin n\xe0y li\xean\nt\u1ee5c khi ch\xfang c\xf3 thay \u0111\u1ed5i. T\u1eeb \u0111\xf3 grpc client s\u1ebd t\u1ea1o connection t\u1edbi c\xe1c grpc server th\xf4ng qua c\xe1c th\xf4ng tin c\u1ea5u h\xecnh \u0111\xf3."]}),"\n",(0,i.jsx)(e.p,{children:"XdsClient v\xe0 Bootstrap File"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u0110\u1ec3 b\u1eadt t\xednh n\u0103ng xds protocol th\xec ph\xeda server back end kh\xf4ng c\u1ea7n thay \u0111\u1ed5i g\xec h\u1ebft, nh\u01b0ng ph\xeda client s\u1ebd ph\u1ea3i implement th\xeam. V\xed d\u1ee5 v\u1edbi\nGolang th\xec ch\u1ec9 c\u1ea7n th\xeam d\xf2ng d\u01b0\u1edbi v\xe0o file main. T\u1ea5t c\u1ea3 c\xe1c logic t\u01b0\u01a1ng t\xe1c v\u1edbi xDS server \u0111\xe3 \u0111\u01b0\u1ee3c implement s\u1eb5n."}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-golang",children:'import _ "google.golang.org/grpc/xds"\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Sau \u0111\xf3 ta ph\u1ea3i t\u1ea1o 1 file g\u1ecdi l\xe0 Bootrap file r\u1ed3i ta c\u1ea5u h\xecnh \u0111\u01b0\u1eddng d\u1eabn file \u0111\xf3 v\xe0o trong bi\u1ebfn m\xf4i tr\u01b0\u1eddng ",(0,i.jsx)(e.code,{children:"GRPC_XDS_BOOTSTRAP"})]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{\n    "xds_servers": [\n    {\n        // Service name c\u1ee7a xDS server\n        "server_uri": "grpc-xds-grpc.example.svc.cluster.local:18000",\n        "channel_creds": [{"type": "insecure"}],\n        "server_features": ["xds_v3"]\n    }\n    ],\n    "node": {\n        "id": "b7f9c818-fb46-43ca-8662-d3bdbcf7ec18",\n        "metadata": {\n            "R_GCP_PROJECT_NUMBER": "123456789012"\n        }\n    }\n}\n'})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Cu\u1ed1i c\xf9ng ta ph\u1ea3i thay \u0111\u1ed5i uri address k\u1ebft n\u1ed1i t\u1edbi server th\xe0nh ",(0,i.jsx)(e.code,{children:"xds:///<server_uri>"}),". ",(0,i.jsx)(e.code,{children:"server_uri"})," ch\xednh l\xe0 domain m\xe0 ta c\u1ea5u h\xecnh \u1edf ph\xeda LDS.\nTrong v\xed d\u1ee5 khi t\u1ea1o service cho 1 grpc server back end, m\xecnh s\u1ebd l\u1ea5y service name, namespace v\xe0 port c\u1ee7a service \u0111\xf3 v\xe0 bi\u1ebfn n\xf3 th\xe0nh ",(0,i.jsx)(e.code,{children:"xds:///<service_name>.<namespace>:<port>"}),". B\u1ea1n c\xf3 th\u1ebf thu\u1ef3 \xfd thay \u0111\u1ed5i c\xe1c t\u1ea1o ra uri trong xDS b\u1eb1ng c\xe1ch c\u1ea5u h\xecnh trong LDS."]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"V\u1eady l\xe0 \u0111\xe3 set up xong ph\xeda grpc client."}),"\n",(0,i.jsx)(e.p,{children:"V\u1edbi v\xed d\u1ee5 m\xecnh l\xe0m ta c\xf3 th\u1ec3 ch\u1ea1y th\u1eed \u0111\u1ec3 xem s\u1ef1 kh\xe1c bi\u1ec7t. Ch\u1ea1y xds server v\xe0 ch\u1ea1y xds grpc client \u0111\u1ec3 load test"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"kubectl apply -f ./deploy/xds.yml\nkubectl apply -f ./deploy/xds-client.yml\n"})}),"\n",(0,i.jsx)(e.p,{children:"K\u1ebft qu\u1ea3, ta th\u1ea5y s\u1ed1 l\u01b0\u1ee3ng request per second (rps) c\u1ee7a service unary call v\xe0 streaming kh\xe1 \u0111\u1ec1u"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{alt:"grpc client xds",src:c(4642).Z+"",width:"2551",height:"1241"})}),"\n",(0,i.jsx)("h2",{id:"pros-cons",children:"\u01afu nh\u01b0\u1ee3c \u0111i\u1ec3m"}),"\n",(0,i.jsx)(e.p,{children:"\u01afu \u0111i\u1ec3m"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"xDS"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Performance t\u1ed1t v\xec client v\u1eabn s\u1ebd k\u1ebft n\u1ed1i tr\u1ef1c ti\u1ebfp v\u1edbi back end server"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Proxy"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Kh\xf4ng c\u1ea7n ph\u1ea3i implement code v\xe0 thay \u0111\u1ed5i code c\u1ee7a client v\xe0 server"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"Nh\u01b0\u1ee3c \u0111i\u1ec3m:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"xDS"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"T\u1ea1o CRD \u0111\u1ec3 xDS k\u1ebft n\u1ed1i v\u1edbi Kubernetes API. C\u1ea7n \u0111\u1ea3m b\u1ea3o logic c\u1ee7a xDS kh\xf4ng \u1ea3nh h\u01b0\u1edfng t\u1edbi c\xe1c service kh\xe1c."}),"\n",(0,i.jsx)(e.li,{children:"Ph\u1ea3i implement xDS service ph\xf9 h\u1ee3p v\u1edbi y\xeau c\u1ea7u mong mu\u1ed1n v\xe0 \u0111\u1ea3m b\u1ea3o logic update resoure \u0111\u01b0\u1ee3c t\u1ed1i \u01b0u."}),"\n",(0,i.jsx)(e.li,{children:"Ph\u1ea3i implement th\xeam \u1edf ph\xeda client."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Proxy"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Performance kh\xf4ng t\u1ed1t v\xec ph\u1ea3i \u0111i qua proxy"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsxs)(e.p,{children:["Istio c\u0169ng \u0111ang th\u1eed nghi\u1ec7m phi\xean b\u1ea3n proxyless c\u1ee7a m\xecnh s\u1eed d\u1ee5ng xDS c\u01a1 ch\u1ebf t\u01b0\u01a1ng t\u1ef1 nh\u01b0 tr\xean \u0111\u1ec3 kh\xf4ng c\xf2n ph\u1ea3i \u0111i qua c\xe1c proxy sidecar n\u1eefa.\nXem th\xeam: ",(0,i.jsx)(e.a,{href:"https://istio.io/v1.12/blog/2021/proxyless-grpc/",children:"https://istio.io/v1.12/blog/2021/proxyless-grpc/"}),", ",(0,i.jsx)(e.a,{href:"https://events.istio.io/istiocon-2022/sessions/proxyless-grpc/",children:"https://events.istio.io/istiocon-2022/sessions/proxyless-grpc/"})]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"t\xe0i-li\u1ec7u-tham-kh\u1ea3o",children:"T\xe0i li\u1ec7u tham kh\u1ea3o"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://kubernetes.io/blog/2018/11/07/grpc-load-balancing-on-kubernetes-without-tears/#why-does-grpc-need-special-load-balancing",children:"Why does gRPC need special load balancing?"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://www.envoyproxy.io/docs/envoy/latest/api-docs/xds_protocol",children:"xDS REST and gRPC protocol"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://github.com/grpc/proposal/blob/master/A27-xds-global-load-balancing.md",children:"xDS-Based Global Load Balancing"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://blog.envoyproxy.io/the-universal-data-plane-api-d15cec7a",children:"The universal data plane API"})}),"\n"]})]})}function d(n={}){const{wrapper:e}={...(0,t.a)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(o,{...n})}):o(n)}},8698:(n,e,c)=>{c.d(e,{Z:()=>i});const i=c.p+"assets/images/grpc-client-not-load-balancing-0d8b8e4754a222e250b3c98f8e093667.png"},4642:(n,e,c)=>{c.d(e,{Z:()=>i});const i=c.p+"assets/images/grpc-client-xds-33c403251d28ca5c71345a3a007f1273.png"},1687:(n,e,c)=>{c.d(e,{Z:()=>i});const i=c.p+"assets/images/grpc-client-61cdeb64d4bde4db25cdcaf2e5ff7b64.png"},2785:(n,e,c)=>{c.d(e,{Z:()=>i});const i=c.p+"assets/images/grpc_client_architecture-99a42560f9d557c045764bf6ad39b901.png"},4392:(n,e,c)=>{c.d(e,{Z:()=>i});const i=c.p+"assets/images/xds-flow-af25376a05cc3d5e38cbdee0309e9625.png"},1151:(n,e,c)=>{c.d(e,{Z:()=>l,a:()=>s});var i=c(7294);const t={},r=i.createContext(t);function s(n){const e=i.useContext(r);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:s(n.components),i.createElement(r.Provider,{value:e},n.children)}}}]);